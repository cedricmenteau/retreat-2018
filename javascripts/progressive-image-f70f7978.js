window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName&&window.addEventListener("load",function(){function e(){r=r||setTimeout(function(){r=null,t()},300)}function t(){a.length&&requestAnimationFrame(function(){for(var e,t,r=window.pageYOffset,s=r+window.innerHeight,o=0;o<a.length;)r<(t=r+(e=a[o].getBoundingClientRect()).top)+e.height&&s>t?(n(a[o]),a[o].classList.remove("replace")):o++;i=a.length})}function n(e){function t(){requestAnimationFrame(function(){n===e.href&&(e.style.cursor="default",e.addEventListener("click",function(e){e.preventDefault()},!1));var t=e.querySelector&&e.querySelector("img.preview");e.insertBefore(i,t&&t.nextSibling).addEventListener("animationend",function(){t&&(i.alt=t.alt||"",e.removeChild(t)),i.classList.remove("reveal")})})}var n=e&&(e.getAttribute("data-href")||e.href);if(n){var i=new Image;e.dataset&&(i.srcset=e.dataset.srcset||"",i.sizes=e.dataset.sizes||""),i.src=n,i.className="reveal",i.complete?t():i.onload=t}}var i,r,a=document.getElementsByClassName("progressive replace");window.addEventListener("scroll",e,!1),window.addEventListener("resize",e,!1),MutationObserver&&new MutationObserver(function(){a.length!==i&&t()}).observe(document.body,{subtree:!0,childList:!0,attributes:!0,characterData:!0}),t()},!1);